(this["webpackJsonpvacuum-world"]=this["webpackJsonpvacuum-world"]||[]).push([[0],{13:function(n,t,e){},15:function(n,t,e){},16:function(n,t,e){"use strict";e.r(t);var r=e(1),o=e.n(r),a=e(6),c=e.n(a),i=(e(13),e(2)),u=e(7),s=e(8),l=function(){function n(){Object(u.a)(this,n),this.uniqueKey=0}return Object(s.a)(n,[{key:"key",value:function(){return++this.uniqueKey}}]),n}(),m=e(3);var d="_";function f(n){return n.numRows*n.numCols}function b(n){return t=f(n),Math.floor(Math.random()*t);var t}function v(n,t){var e={numRows:n,numCols:t,grid:Array(n*t).fill("")},r=b(e);return e.grid[r]=d,e=function(n){for(var t=Object.assign({},n),e=Math.floor(f(t)/2),r=0;r<e;++r){var o=b(t);t.grid[o]=t.grid[o]+"*"}return t}(e)}function h(n){return n.includes("*")}function j(n){return n.includes(d)}function g(n){var t,e=Object(m.a)(n.grid.entries());try{for(e.s();!(t=e.n()).done;){var r=Object(i.a)(t.value,2),o=r[0];if(j(r[1]))return o}}catch(a){e.e(a)}finally{e.f()}return null}function w(n){var t=g(n);return h(n.grid[t])}function y(n){return function(n,t){return{x:n%t.numCols,y:Math.floor(n/t.numCols)}}(g(n),n)}function p(n,t){var e=n.grid.slice(),r=g(n),o=y(n),a=n.numRows,c=n.numCols;return"CLEAN"===t?e[r]=e[r].replace("*",""):(e[r]=e[r].replace(d,""),"LEFT"===t&&o.x>0?o.x=o.x-1:"RIGHT"===t&&o.x<c-1?o.x=o.x+1:"UP"===t&&o.y>0?o.y=o.y-1:"DOWN"===t&&o.y<a-1&&(o.y=o.y+1),e[r=function(n,t,e){return t*e+n}(o.x,o.y,c)]=e[r]+d),{numRows:n.numRows,numCols:n.numCols,grid:e}}var O=e(0);var x=function(n){var t=new l,e=function(t){if(j(t))return Object(O.jsx)("div",{className:"vacuum",children:Object(O.jsx)("p",{className:"action",children:n.robot.action})})},r={"--numRows":n.world.numRows,"--numCols":n.world.numCols,"--colWidth":100/n.world.numCols+"%"};return Object(O.jsx)("div",{className:"div-sim",style:r,children:n.world.grid.map((function(n){return function(n){return h(n)?Object(O.jsx)("div",{className:"sim-cell",style:{backgroundColor:"SaddleBrown"},children:e(n)},t.key()):Object(O.jsx)("div",{className:"sim-cell",style:{backgroundColor:"Cornsilk"},children:e(n)},t.key())}(n)}))})},C=["CLEAN","LEFT","RIGHT","DOWN","UP"];Object.freeze(C);var A=function(n,t){for(var e=[],r=0,o=["LEFT","RIGHT","UP","DOWN"];r<o.length;r++){var a=o[r],c=p(n,a);g(n)!==g(c)&&e.push({state:c,parent:t,action:a})}return e},N=function(n){for(var t=[n.action],e=n.parent;null!=e;)e.action&&t.push(e.action),e=e.parent;return t},R=function(n,t){if(t.hasOwnProperty("remainingActions")||(t.remainingActions=[]),0===t.remainingActions.length&&(t.remainingActions=function(n){var t={state:n,parent:null,action:null};if(w(t.state))return["CLEAN"];for(var e=[t],r=[g(t.state)];0!==e.length;){t=e.shift();var o,a=A(t.state,t),c=Object(m.a)(a);try{for(c.s();!(o=c.n()).done;){var i=o.value;if(w(i.state))return N(i);r.includes(g(i.state))||(r.push(g(i.state)),e.push(i))}}catch(u){c.e(u)}finally{c.f()}}return[]}(n)),0===t.remainingActions.length)return{action:"",memory:t};var e=t.remainingActions.pop();return e?{action:e,memory:t}:{action:"",memory:t}},k=function(n,t){return{action:w(n)?"CLEAN":C[Math.floor(Math.random()*Math.floor(C.length-1)+1)],memory:t}},E=function(n,t){t.hasOwnProperty("lastAction")||(t.lastAction="");var e="";if(w(n))e="CLEAN";else{var r=y(n);e="LEFT"===t.lastAction?r.x>0?"LEFT":"RIGHT":r.x<n.numCols-1?"RIGHT":"LEFT"}return{action:e,memory:{lastAction:e}}},F=["BFSAgent","DumbAgent","RandomAgent"],T=function(n){return"DumbAgent"===n?{type:n,agentFunction:E,action:"",memory:{}}:"RandomAgent"===n?{type:n,agentFunction:k,action:"",memory:{}}:"BFSAgent"===n?{type:n,agentFunction:R,action:"",memory:{}}:(console.log("Bad Robot Type."),null)};var L=function(n){var t=Object(r.useState)({world:v(n.numRows,n.numCols),robot:T(F[0])}),e=Object(i.a)(t,2),o=e[0],a=e[1],c=Object(r.useState)(!0),u=Object(i.a)(c,2),s=u[0],m=u[1],d=new l,f=Object(r.useRef)();Object(r.useEffect)((function(){s?f.current=setInterval((function(){a((function(n){var t=n.robot,e=n.world,r=t.agentFunction(e,t.memory),o=r.action,a=r.memory;return{world:p(e,o),robot:{type:t.type,agentFunction:t.agentFunction,action:o,memory:a}}}))}),1e3):clearInterval(f.current)}),[s]);var b=function(n){a({world:o.world,robot:T(n.target.value)})},h=function(n){a({world:v(parseInt(n.target.value),o.world.numCols),robot:o.robot})},j=function(n){a({world:v(o.world.numRows,parseInt(n.target.value)),robot:o.robot})},g=function(){a({world:v(o.world.numRows,o.world.numCols),robot:o.robot})},w=function(){m(!1)},y=function(){m(!0)},C=function(){return Object(O.jsx)("select",{className:"manager-button",value:o.robot.type,onChange:b,children:F.map((function(n){return function(n){return Object(O.jsx)("option",{value:n,children:n},d.key())}(n)}))})},A=function(n){return Object(O.jsx)("option",{value:n,children:n},d.key())};return Object(O.jsxs)("div",{className:"div-manager",children:[Object(O.jsxs)("div",{className:"div-pane",children:[C(),Object(O.jsx)("select",{className:"manager-button",value:o.world.numRows,onChange:h,children:[1,2,3,4,5,6].map((function(n){return A(n)}))}),Object(O.jsx)("select",{className:"manager-button",value:o.world.numCols,onChange:j,children:[1,2,3,4,5,6].map((function(n){return A(n)}))}),s?Object(O.jsx)("button",{onClick:w,className:"manager-button",children:"Stop"}):Object(O.jsx)("button",{onClick:y,className:"manager-button",children:"Start"}),Object(O.jsx)("button",{onClick:g,className:"manager-button",children:"RESET"})]}),Object(O.jsx)(x,{robot:o.robot,world:o.world})]})};e(15);var I=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)("div",{className:"App-header",children:[Object(O.jsx)("h1",{children:"Vacuum World"}),Object(O.jsx)(L,{numRows:3,numCols:3})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(I,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.ddcb6d64.chunk.js.map